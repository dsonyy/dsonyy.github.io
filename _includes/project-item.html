<div class="project-item">
  <h2>
    {% if project.clickable != false %}
    <a href="{{ project.url | relative_url }}">{{ project.title }}</a>
    {% else %} {{ project.title }} {% endif %}
  </h2>

  {% if project.thumbnails %}
  <div class="project-thumbnails-container">
    {% assign total_thumbnails = project.thumbnails.size %} {% assign
    thumbnails_per_row = 4 %} {% assign total_rows = total_thumbnails |
    divided_by: thumbnails_per_row | plus: 0 %} {% if total_thumbnails >
    thumbnails_per_row %} {% assign total_rows = total_thumbnails | divided_by:
    thumbnails_per_row %} {% assign remainder = total_thumbnails | modulo:
    thumbnails_per_row %} {% if remainder > 0 %} {% assign total_rows =
    total_rows | plus: 1 %} {% endif %} {% else %} {% assign total_rows = 1 %}
    {% endif %} {% for row in (1..total_rows) %} {% assign start_index = row |
    minus: 1 | times: thumbnails_per_row %} {% assign end_index = start_index |
    plus: thumbnails_per_row | minus: 1 %} {% if end_index >= total_thumbnails
    %} {% assign end_index = total_thumbnails | minus: 1 %} {% endif %}

    <div class="project-thumbnails">
      {% for i in (start_index..end_index) %}
      <div class="project-thumbnail">
        <img
          src="{{ project.thumbnails[i] }}"
          alt="{{ project.title }} thumbnail"
        />
      </div>
      {% endfor %}
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <p>
    <!-- description -->
    {% for source in project.description %} {{ source }} {% endfor %}

    <br /><br />
    <!-- stack -->
    {% if project.stack %} <strong>Tech:</strong> {{ project.stack | join: ", "
    }}<br />{% endif %}
    <!-- tags -->
    {% if project.tags %}
    <strong>Tags:</strong> {{ project.tags | join: ", " }}<br />
    {% endif %}

    <!-- source -->
    {% if project.source_code %}
    <strong>Source: </strong>
    {% for source in project.source_code %}
    <a href="{{ source }}">{{ source }}</a> {% if forloop.last == false %}
    <br />{% endif %} {% endfor %} {% endif %}

    <!-- date -->
    {% if project.custom_date %} <br /><strong>Date:</strong> {{
    project.custom_date | date: "%Y-%m-%d" }}{% endif %}

    <!-- read more -->
    {% if project.clickable != false %} <br /><br />
    <strong><a href="{{ project.url | relative_url }}">Read more</a></strong>
    {% endif %}
  </p>
</div>
